(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["campaign"],{"095f":function(t,e,i){},"10c7":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"campaign__page"},[i("div",{staticClass:"rev__container container d-flex flex-column align-items-center p-0"},t._l([0,1,2,3],(function(e){return i("div",{key:e,staticClass:"rev__slot d-flex flex-column col-md-8 col-lg-6 justify-content-center p-0",attrs:{id:e}},[e===t.twibbon_slide?i("Adsense",{staticStyle:{"background-color":"#d8f0f0"},attrs:{"data-ad-client":"ca-pub-3785389902934745","data-ad-slot":"9139890903","data-ad-format":"horizontal","data-full-width-responsive":"yes"}}):t._e()],1)})),0),i("div",{staticClass:"container d-flex flex-column align-items-center p-0"},[t.campaign&&t.is_request_done?i("div",{staticClass:"d-flex flex-column col-md-8 col-lg-6 justify-content-center align-items-center mb-2"},[i("Avatar",{staticClass:"campaign__avatar rounded-circle",staticStyle:{background:"#ffffff"},attrs:{src:t.avatar_url,alt:t.campaign.CampaignCreator.name}}),i("h6",{staticClass:"campaign__creator text-center"},[t._v(t._s(t.campaign.CampaignCreator.name))]),i("h3",{ref:"campaignName",staticClass:"campaign__name text-center mt-1"},[t._v(" "+t._s(t.campaign.name)+" ")]),i("div",{staticClass:"d-flex justify-content-center mt-2"},[i("div",{staticClass:"d-flex align-items-center mr-2"},[i("ion-icon",{staticClass:"campaign__icon mr-1",attrs:{name:"people"}}),i("p",{staticClass:"campaign__detail m-0"},[t._v(t._s(t.formatSupportNumber(t.campaign_supports)+" "+t.$t("home.supports")))])],1),i("div",{staticClass:"d-flex align-items-center"},[i("ion-icon",{staticClass:"campaign__icon mr-1",attrs:{name:"time"}}),i("p",{staticClass:"campaign__detail m-0"},[t._v(t._s(t.getTimeToCampaignCreation()))])],1)]),i("div",{staticClass:"d-flex justify-content-center align-items-center mt-3"},[i("div",{staticClass:"campaign__share d-flex align-items-center",on:{click:t.shareCampaign}},[i("img",{staticClass:"mr-2",attrs:{src:"assets/images/icons/link-outline.svg",alt:"share-icon"}}),i("span",{style:"max-width: "+t.shareCampaignWidth+"px"},[t._v(t._s("twb.nz/"+t.campaign.url))])])]),t.campaign.description?i("div",{staticClass:"campaign__description mt-20"},[i("p",{staticClass:"px-2 py-0 m-0"},[t._v(t._s(t.campaign.description))])]):t._e()],1):t._e(),i("Twibbon",{staticClass:"col-md-8 col-lg-6 mt-20 mb-20"})],1),i("div",{staticClass:"campaign__footer d-flex flex-column justify-content-center pt-20 pb-50"},[i("div",{staticClass:"d-flex justify-content-center mb-30"},[i("router-link",{attrs:{to:"/"}},[i("img",{attrs:{src:"/assets/images/logos/powered-by-twibbonize-"+t.$i18n.locale+".svg",alt:"powered by twibbonize"}})])],1),i("div",{staticClass:"d-flex align-items-center"},[i("p",{staticClass:"d-flex justify-content-center mb-30 pointer",on:{click:t.changeLang}},[i("ion-icon",{staticClass:"select-language__icon mr-1",attrs:{name:"globe-outline"}}),i("span",{staticClass:"select-language__text"},[t._v(t._s(t.$t("language")))])],1)]),i("div",{staticClass:"d-flex justify-content-center"},[i("a",{staticClass:"d-flex align-items-center justify-content-center",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.reportCampaign(e)}}},[i("ion-icon",{staticClass:"mr-1",attrs:{name:"flag"}}),i("span",[t._v(t._s(t.$t("footer.report-this-campaign")))])],1),i("router-link",{attrs:{target:"_blank",to:"/signup"}},[t._v(t._s(t.$t("footer.create-campaign")))])],1),i("div",{staticClass:"d-flex justify-content-center"},[i("a",{attrs:{href:t.$t("link.help"),target:"_blank"}},[t._v(t._s(t.$t("footer.help-center")))]),i("router-link",{attrs:{target:"_blank",to:"/terms"}},[t._v(t._s(t.$t("footer.terms")))]),i("router-link",{attrs:{target:"_blank",to:"/privacy-policy"}},[t._v(t._s(t.$t("footer.privacy-policy")))])],1)]),i("div",{staticClass:"rev__container container  d-flex flex-column align-items-center"},t._l([0,1,2,3],(function(e){return i("div",{key:e,staticClass:"rev-slot d-flex flex-column col-md-8 col-lg-6 justify-content-center p-0",attrs:{id:e}},[e===t.twibbon_slide?i("Adsense",{staticStyle:{"background-color":"#d8f0f0"},attrs:{"data-ad-client":"ca-pub-3785389902934745","data-ad-slot":"4493549677","data-ad-format":"auto","data-full-width-responsive":"yes"}}):t._e()],1)})),0),i("ModalShareCampaign"),i("ModalChangeLanguage"),i("ModalReportCampaign",{attrs:{campaign:t.campaign}})],1)},n=[],o=(i("a4d3"),i("e01a"),i("b0c0"),i("d3b7"),i("ac1f"),i("25f0"),i("5319"),i("96cf"),i("1da1")),s=i("5530"),r=i("598f"),c=i("8494"),l=i("52dc"),d=i("5b08"),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"twibbon",attrs:{id:"twibbon"}},[i("div",{ref:"card",staticStyle:{"background-color":"#FFFFFF","border-radius":"10px",padding:"15px"}},[t.is_image_loading?i("content-placeholders",{attrs:{rounded:!0}},[i("content-placeholders-img",{staticStyle:{height:"5px"}})],1):i("Position",{attrs:{pos:t.slide?t.slide+1:1,length:4}}),t.is_image_loading?i("content-placeholders",{attrs:{rounded:!0}},[i("content-placeholders-img",{staticStyle:{height:"50px","margin-top":"15px"}})],1):!t.is_image_loading&&t.slide>=0&&t.slide<=2?i("div",{staticClass:"twibbon__tooltip d-flex p-0",staticStyle:{"border-radius":"5px","margin-top":"15px"}},[i("img",{staticClass:"d-flex align-items-start m-0 p-0 h-100",staticStyle:{opacity:"0.5"},attrs:{src:"/assets/images/icons/tip-icon.svg",alt:"Tip Icon"}}),i("div",{staticClass:"d-flex align-items-center"},[0!==t.slide||t.is_crop_show?t._e():i("p",{staticClass:"my-1 ml-2 mr-2",staticStyle:{"font-size":"0.875rem"}},[t._v(" "+t._s(t.$t("twibbon-module.tooltip.use-photo-filter"))+" ")]),0===t.slide&&t.is_crop_show?i("p",{staticClass:"my-1 ml-2 mr-2",staticStyle:{"font-size":"0.875rem"}},[t._v(" "+t._s(t.$t("twibbon-module.tooltip.drag-and-pinch"))+" ")]):t._e(),1===t.slide?i("p",{staticClass:"my-1 ml-2 mr-2",staticStyle:{"font-size":"0.875rem"}},[t._v(" "+t._s(t.$t("twibbon-module.tooltip.download-your-photo"))+" ")]):t._e(),2===t.slide?i("p",{staticClass:"my-1 ml-2 mr-2",staticStyle:{"font-size":"0.875rem"}},[t._v(" "+t._s(t.$t("twibbon-module.tooltip.copy-this-message"))+" ")]):t._e()])]):3!==t.slide||t.is_image_loading?t._e():i("div",{staticStyle:{height:"35px"}}),i("div",{key:t.document_width,staticClass:"twibbon__container",class:t.is_image_loading?"image-loading":"",style:{height:t.frame_height+"px"}},[i("div",{staticStyle:{margin:"5px",position:"relative"}},[i("img",{ref:"imgFrame",staticClass:"twibbon__frame",staticStyle:{"z-index":"99","pointer-events":"none",position:"absolute",top:"5px",left:"0"},style:{width:"100%","z-index":0===t.slide?1:-3,opacity:t.is_image_loading?0:1},attrs:{src:t.frame},on:{load:t.onFrameLoaded,error:t.imgBindError}}),0===t.slide&&!0===t.is_crop_show?i("div",[i("vue-croppie",{key:t.inner_frame_height,ref:"croppieRef",staticClass:"twibbon__cropper",staticStyle:{"z-index":"0",position:"absolute",top:"5px",left:"0"},attrs:{boundary:{width:t.inner_frame_width,height:t.inner_frame_height},viewport:{width:t.inner_frame_width,height:t.inner_frame_height,type:"square"},"enable-orientation":!0,"show-zoomer":!1,"enable-resize":!1,"enforce-boundary":!1},on:{result:t.result}})],1):t._e()]),t.is_image_loading?i("div",{staticStyle:{"z-index":"1000",position:"absolute",top:"0",left:"0","pointer-events":"none"},style:"height: "+t.frame_height+"px; width: 100%;"},[i("content-placeholders",{attrs:{rounded:!0}},[i("content-placeholders-img",{style:"width: 100%; padding-top: 100%; border-radius: 5px;"})],1)],1):t._e(),!1===t.is_crop_show&&!1===t.is_uploading?i("img",{staticStyle:{"pointer-events":"none",position:"absolute",top:"0",left:"0","border-radius":"10px",background:"#F5F5F5"},style:{width:"100%","z-index":0===t.slide?10:-1,opacity:t.is_image_loading?0:1},attrs:{src:t.frame,alt:"imageFrame"},on:{load:t.onEditFrameLoaded}}):t._e(),0===t.slide&&!0===t.is_crop_show&&!1===t.is_uploading?i("div",{staticClass:"twibbon__edit-area d-flex justify-content-between align-items-end border-dash",staticStyle:{position:"absolute",top:"0",left:"0","z-index":"100",width:"100%","pointer-events":"none"},style:"height: "+(t.inner_frame_height+10)+"px; width: "+(t.inner_frame_width+10)+"px;"},[i("div",{staticClass:"rotate-button left d-flex align-items-center justify-content-center",staticStyle:{"margin-left":"-1px","margin-bottom":"-1px"},on:{click:function(e){return t.rotate(90)}}},[i("img",{staticClass:"m-0 p-0",attrs:{src:"/assets/images/icons/rotate-left.svg",alt:"Rotate Left"}})]),i("div",{staticClass:"rotate-button right d-flex align-items-center justify-content-center",staticStyle:{"margin-left":"-1px","margin-bottom":"-1px"},on:{click:function(e){return t.rotate(-90)}}},[i("img",{staticClass:"m-0 p-0",attrs:{src:"/assets/images/icons/rotate-right.svg",alt:"Rotate Right"}})])]):t._e(),0===t.slide&&!0===t.is_uploading?i("div",{staticClass:"twibbon__uploading d-flex flex-column align-items-center justify-content-center",staticStyle:{"z-index":"1000"},style:{width:t.inner_frame_width+10+"px",height:t.inner_frame_height+10+"px"}},[i("div",[i("div",{staticClass:"loader"}),i("div",{staticClass:"d-flex align-items-center justify-content-center",staticStyle:{height:"90px",width:"90px",position:"relative",top:"-90px","margin-bottom":"-90px"}},[i("span",{staticStyle:{"font-weight":"700",color:"white"}},[t._v(" "+t._s(t.upload_progress+"%")+" ")])])]),i("div",{staticClass:"text-center"},[i("h6",{staticClass:"twibbon__uploading-text text-white mt-2"},[t._v(" "+t._s(t.$t("twibbon-module.upload"))+" ")]),i("p",{staticClass:"twibbon__uploading-text text-white py-0 px-4 m-0"},[t._v(" "+t._s(t.$t("twibbon-module.please-wait"))+" ")])])]):t._e(),1===t.slide?i("div",[t.result?i("img",{staticClass:"twibbon__result",style:{width:"100%"},attrs:{src:t.result},on:{error:t.goToCampaignPage}}):t._e()]):t._e(),2===t.slide?i("div",[i("div",{key:t.caption_initial,staticClass:"twibbon__caption scroll-tab collapse show",style:{height:t.inner_frame_height+10+"px",width:"100%"}},[null!=t.caption_initial?i("NaturalForm",{ref:"naturalForm",attrs:{id:"naturalForm",caption:t.caption_initial},on:{result:t.getCaptionResult}}):t._e()],1)]):t._e(),3===t.slide?i("div",[i("div",{staticClass:"twibbon__done d-flex flex-column align-items-center justify-content-center",style:{height:t.inner_frame_height+10+"px",width:t.inner_frame_width+10+"px"}},[i("div",{staticStyle:{position:"relative","margin-left":"-10px"}},[i("img",{ref:"frameResult",style:{height:.65*(t.inner_frame_height+10)+"px",width:.65*(t.inner_frame_width+10)},attrs:{src:"/assets/images/campaign/thank-you.png",alt:"campaign completed"}}),t.result?i("img",{staticStyle:{"border-radius":"3px",position:"absolute",top:"0",left:"0",right:"0",bottom:"0","margin-left":"50%","margin-top":"50%",transform:"translate(-50%, -50%)"},style:{height:.32*(t.inner_frame_height+10)+"px",width:.32*(t.inner_frame_width+10)+"px"},attrs:{src:t.result},on:{error:t.goToCampaignPage}}):t._e()]),i("h4",{staticClass:"title text-center m-0",staticStyle:{"line-height":"1.16","font-weight":"700"},domProps:{innerHTML:t._s(t.$t("twibbon-module.time-to-share"))}}),i("p",{staticClass:"text-center mb-0 mt-3",staticStyle:{"font-size":"0.875rem",color:"#14234B","font-weight":"400"}},[t._v(" "+t._s(t.$t("twibbon-module.need-help"))+" ")]),i("p",{staticClass:"text-center m-0",staticStyle:{"font-size":"0.875rem",color:"#14234B"}},[t._v(" "+t._s(t.$t("twibbon-module.check-guides"))+" "),i("a",{staticStyle:{color:"#14234B","text-decoration":"underline"},attrs:{href:t.$t("link.guides-to-share"),target:"_blank"}},[t._v(t._s(t.$t("twibbon-module.guide")))])])])]):t._e()]),3!==t.slide||t.is_image_loading?t._e():i("div",{staticStyle:{height:"30px"}}),t.is_image_loading?i("div",{staticClass:"twibbon__button"},[i("content-placeholders",{attrs:{rounded:!0}},[i("content-placeholders-img",{staticStyle:{height:"50px","border-radius":"10px"}})],1)],1):i("div",{staticClass:"twibbon__button"},[i("input",{attrs:{id:"uploadPhoto",hidden:"",type:"file"},on:{change:t.croppie}}),0===t.slide&&!1===t.is_crop_show&&!1===t.is_uploading?i("div",{staticClass:"d-flex"},[i("button",{staticClass:"twb-btn twb-btn--primary flex--1",on:{click:t.choosePhoto}},[i("ion-icon",{staticStyle:{"font-size":"24px","margin-right":"4px"},attrs:{name:"camera"}}),t._v(" "+t._s(t.$t("twibbon-module.button.choose-photo"))+" ")],1)]):t._e(),0===t.slide&&!1===t.is_crop_show&&!0===t.is_uploading?i("div",{staticStyle:{height:"50px"}}):t._e(),0===t.slide&&t.is_crop_show?i("div",[i("div",{staticClass:"flex"},[i("div",{staticClass:"twb-btn twb-btn--primary-outline flex--1 mr-2",on:{click:t.changePhoto}},[i("ion-icon",{staticStyle:{"font-size":"28px"},attrs:{name:"camera"}})],1),i("button",{staticClass:"twb-btn twb-btn--primary flex--3",on:{click:t.cropPhoto}},[t._v(" "+t._s(t.$t("twibbon-module.button.next"))+" ")])])]):t._e(),1===t.slide?i("div",{staticClass:"d-flex"},[i("div",{staticClass:"twb-btn twb-btn--primary-outline flex--1 mr-2",on:{click:t.prevSlide}},[i("ion-icon",{staticStyle:{"font-size":"28px"},attrs:{name:"chevron-back-outline"}})],1),i("button",{staticClass:"twb-btn twb-btn--primary flex--3",staticStyle:{flex:"3"},on:{click:function(e){return t.downloadResult()}}},[t._v(" "+t._s(t.download_button_text?t.$t("twibbon-module.button.download"):t.$t("twibbon-module.button.next"))+" ")])]):t._e(),2===t.slide?i("div",{staticClass:"d-flex"},[i("div",{staticClass:"twb-btn twb-btn--primary-outline flex--1 mr-2",on:{click:t.prevSlide}},[i("ion-icon",{staticStyle:{"font-size":"28px"},attrs:{name:"chevron-back-outline"}})],1),i("button",{staticClass:"twb-btn twb-btn--primary flex--3",on:{click:t.nextSlide}},[t._v(" "+t._s(t.$t("twibbon-module.button.copy-caption"))+" ")])]):t._e(),3===t.slide?i("div",{staticClass:"d-flex"},[i("div",{staticClass:"twb-btn twb-btn--primary-outline flex--1 mr-2",on:{click:t.prevSlide}},[i("ion-icon",{staticStyle:{"font-size":"28px"},attrs:{name:"chevron-back-outline"}})],1),i("div",{staticClass:"twb-btn twb-btn--primary flex--3",on:{click:t.goToCampaignPage}},[i("ion-icon",{staticClass:"mr-2",attrs:{name:"reload-outline"}}),t._v(" "+t._s(t.$t("twibbon-module.button.try-again"))+" ")],1)]):t._e()]),i("modal",{staticClass:"justify-content-center",staticStyle:{"border-radius":"10px !important"},attrs:{name:"download_by_touch_and_hold",adaptive:!0,height:"auto",width:"90%",maxWidth:600},on:{closed:function(e){return t.closeModalIOS()}}},[i("div",{staticClass:"d-flex justify-content-end mt-2 mr-2"},[i("ion-icon",{staticClass:"close-modal",staticStyle:{"font-size":"24px"},attrs:{name:"close"},on:{click:function(e){return t.closeModalIOS()}}})],1),i("div",{staticClass:"block_account d-flex flex-column justify-content-center pt-1 pl-4 pr-4 pb-4 mb-0"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("img",{staticStyle:{display:"block",margin:"0 auto","border-radius":"15px"},style:{width:t.frame_width+"px"},attrs:{src:"/assets/images/others/taphold.gif"}}),i("div",{staticStyle:{"text-align":"center",width:"100%","margin-top":"10px","margin-bottom":"10px"}},[t._v(t._s(t.$t("twibbon-module.tap-and-hold")))]),i("button",{staticStyle:{background:"#14234B",width:"100%"},on:{click:function(e){return t.closeModalIOS()}}},[t._v(" "+t._s(t.$t("twibbon-module.understand")))])])])])])],1)])},h=[],_=(i("99af"),i("caad"),i("a9e3"),i("2532"),i("1276"),i("10b0")),m=i("b6c4"),u=i("b047"),g=i.n(u),f=i("2f62"),b={name:"Twibbon",data:function(){return{apple_image_format:["heif","HEIF","heic","HEIC"],image_format:["jpg","JPG","jpeg","JPEG","png","PNG","bmp","BMP"],re:/\s*(\[[[a-z]+\]])\s*/g,is_apply_photo:!1,is_button_download:!0,is_change_photo:!1,is_crop_show:!1,is_edit_natural_form:!1,is_image_show:!0,is_input_show:!0,is_ios_download_attempt:!1,is_download_touch_and_hold:!1,is_rotate_show:!1,is_skip_caption:!1,is_uploading:!1,frame:"",caption_initial:"",caption_final:"",caption_raw:"",result:"",slide:0,frame_width:0,frame_height:0,inner_frame_width:0,inner_frame_height:500,image_height:0,image_width:0,position_length:4,file_url:"",campaign:"",base_url:"",applying_photo_to_cropper:!1,download_by_touch_and_hold:!1,download_button_text:!0,state_change_photo:!1,position:1,document_width:0,font_size:24,is_image_loading:!0}},components:{Position:_["a"],NaturalForm:m["a"]},mounted:function(){var t=this;this.detectIOSDevice();var e=this.$route.params.url.toLowerCase();this.twibbonRequest(e).then((function(i){"null"!=i.caption&&"nan"!=i.caption&&(t.caption_raw=i.caption+"\r\n\r\n"),t.frame=t.getFrame(i.frame),t.addCaptionFooter(t.locale),t.$route.query.slide>=1&&!Array.isArray(t.$route.query.slide)?t.$route.query.slide<=Number(t.twibbon_slide)?t.slide=Number(t.$route.query.slide):t.slide=Number(t.twibbon_slide):t.result="",t.twibbon_result&&t.twibbon_url==e?t.result=t.twibbon_result:(t.SET_TWIBBON_RESULT(""),t.SET_TWIBBON_URL(""),t.slide=0),t.setQueryParams()}))},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(f["c"])({getFrame:"getFrame",twibbonPreview:"twibbonPreview"})),Object(f["e"])({upload_progress:"upload_percentage",twibbon_result:"twibbon_result",twibbon_url:"twibbon_url",twibbon_slide:"twibbon_slide"})),{},{locale:function(){return this.$i18n.locale}}),methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(f["b"])({twibbonRequest:"twibbonRequest",generateTwibbon:"generateTwibbon",checkPreviewAvailability:"checkPreviewAvailability"})),Object(f["d"])({SET_UPLOAD_PERCENTAGE:"SET_UPLOAD_PERCENTAGE",SET_TWIBBON_SLIDE:"SET_TWIBBON_SLIDE",SET_TWIBBON_RESULT:"SET_TWIBBON_RESULT",SET_TWIBBON_URL:"SET_TWIBBON_URL"})),{},{imgBindError:function(t){var e=this;setTimeout((function(){t.target.src=e.frame}),250)},detectIOSDevice:function(){var t=this.$browserDetect.isIOS,e=this.$browserDetect.meta.ua;!t||e.includes("OPiOS/")||e.includes("Version/")||(this.download_by_touch_and_hold=!0)},croppie:function(t){var e=this,i=t.target.files||t.dataTransfer.files;if(this.applying_photo_to_cropper=!0,!i.length&&this.is_change_photo)return this.applying_photo_to_cropper=!1,this.is_change_photo=!1,null;var a=i[0].name.split("."),n=a[a.length-1];if(this.image_format.includes(n)){var o=new FileReader;o.onload=function(t){e.$refs.croppieRef.refresh(),e.$refs.croppieRef.bind({url:t.target.result}),e.file_url=t.target.result,e.applying_photo_to_cropper=!1},o.readAsDataURL(i[0])}else this.applying_photo_to_cropper=!1,this.$toast.error(this.$t("error.campaign.file-format-not-supported"),{duration:2e3,position:"bottom"}),this.is_change_photo&&(this.is_change_photo=!1)},cropPhoto:function(){var t=this,e=this.$route.params.url.toLowerCase(),i=new FormData;this.is_crop_show=!1,this.is_uploading=!0,this.$refs.croppieRef.result({type:"blob",size:{width:this.image_width,height:this.image_height},format:"jpeg",backgroundColor:"#FFFFFF"},(function(a){i.append("campaign_url",e),i.append("photo",a),t.generateTwibbon({route:e,form:i}).then((function(i){t.result=t.twibbonPreview(i),t.is_uploading=!1,t.is_input_show=!0,t.slide++,t.position++,t.SET_UPLOAD_PERCENTAGE(0),t.SET_TWIBBON_RESULT(t.result),t.SET_TWIBBON_URL(e)}))}))},choosePhoto:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:document.getElementById("uploadPhoto").click(),t.is_crop_show=!0;case 2:case"end":return e.stop()}}),e)})))()},changePhoto:function(){this.state_change_photo=!0,document.getElementById("uploadPhoto").click()},downloadResult:function(){this.download_by_touch_and_hold?this.is_ios_download_attempt?this.nextSlide():(this.is_ios_download_attempt=!0,this.$modal.show("download_by_touch_and_hold")):(window.location.href=this.result,this.nextSlide())},closeModalIOS:function(){this.download_button_text=!1,this.$modal.hide("download_by_touch_and_hold")},copyCaption:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.caption_final||t.$refs.naturalForm.replaceAllKey(),e.next=4,t.$copyText(t.caption_final);case 4:t.$toast.success(t.$t("success.copied"),{duration:2e3,position:"bottom"}),t.caption_final="",e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},nextSlide:function(){2==this.slide&&this.copyCaption(),1==this.slide&&1==this.skip_caption?(this.slide=this.slide+2,this.position=this.position+2):(this.slide++,this.position++)},prevSlide:function(){this.position--,this.slide--},onEditFrameLoaded:function(t){this.frame_height=t.target.height,this.frame_width=t.target.width,this.is_image_loading=!1},onFrameLoaded:function(t){var e=this;this.inner_frame_height=t.target.height,this.inner_frame_width=t.target.width;var i=new Image;i.onload=function(){e.image_height=i.height,e.image_width=i.width},i.src=this.$refs.imgFrame.src},addCaptionFooter:function(t){var e=this.caption_raw,i=this.$route.params.url.toLowerCase();e+="id"==t?"(Tag 3 atau lebih temanmu)\n            Dapatkan twibbon ini melalui twb.nz/".concat(i,"\n            Lalu ikuti @twibbonize\n            #").concat(i," #twibbonize"):"(Tag 3 of your friends or more here)\n            Get yourself this twibbon at twb.nz/".concat(i,"\n            Also follow @twibbonize\n            #").concat(i," #twibbonize"),this.caption_initial=e},rotate:function(t){this.$refs.croppieRef.rotate(t)},getCaptionResult:function(t){this.caption_final=t},goToCampaignPage:function(){this.SET_TWIBBON_SLIDE(0),this.SET_TWIBBON_RESULT(""),this.SET_TWIBBON_URL(""),window.location.href=window.location.protocol+"//"+window.location.host+window.location.pathname},changeFrameSize:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.document_width!=document.body.clientWidth&&(t.reinitializeCroppie(),t.document_width=document.body.clientWidth);case 1:case"end":return e.stop()}}),e)})))()},reinitializeCroppie:function(){this.$refs.croppieRef&&(this.$refs.croppieRef.refresh(),this.$refs.croppieRef.bind({url:this.file_url}))},setQueryParams:function(){var t="";(this.slide||this.result)&&(t+="?"),this.slide&&(t+="slide=".concat(this.slide)),this.SET_TWIBBON_SLIDE(this.slide);var e=window.location.protocol+"//"+window.location.host+window.location.pathname+t;window.history.pushState({path:e},"",e)}}),watch:{slide:function(){this.setQueryParams()},result:function(){this.setQueryParams()},$vssEvent:function(){this.changeFrameSize(),this.frame_height=this.$refs.imgFrame.clientHeight+10,this.frame_width=this.$refs.imgFrame.clientWidth+10},locale:function(t){this.addCaptionFooter(t)}},created:function(){window.addEventListener("resize",this.changeFrameSize),this.reinitializeCroppie=g()(this.reinitializeCroppie,200)},destroyed:function(){window.removeEventListener("resize",this.changeFrameSize)}},w=b,v=(i("4ece"),i("2877")),y=Object(v["a"])(w,p,h,!1,null,null,null),x=y.exports,C={name:"Campaign",components:{Avatar:d["a"],Twibbon:x,ModalChangeLanguage:r["a"],ModalReportCampaign:c["a"],ModalShareCampaign:l["a"]},computed:Object(s["a"])(Object(s["a"])({},Object(f["e"])(["campaign","twibbon_slide"])),Object(f["c"])({getAvatar:"getAvatar"})),data:function(){return{is_request_done:!1,avatar_url:"",campaign_title:"Twibbonize",shareCampaignWidth:0,can_native_share:!1,campaign_supports:0}},metaInfo:function(){return{title:this.campaign_title,meta:[{name:"description",content:this.campaign.description},{property:"og:title",content:this.campaign.name},{name:"twitter:description",content:this.campaign.description},{property:"og:title",content:this.campaign.name},{property:"og:site_name",content:"Twibbonize"},{property:"og:type",content:"website"},{name:"robots",content:"index,follow"}]}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(f["d"])({SET_LAYOUT:"SET_LAYOUT"})),Object(f["b"])({getCount:"getCount"})),{},{shareCampaign:function(){this.$modal.show("share-network")},changeLang:function(){this.$modal.show("change-lang")},closeModal:function(){this.$modal.hide("share-network")},showUrlCopied:function(){this.$toast.success(this.$t("success.copied"),{type:"success",position:"bottom",duration:2e3})},share:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={title:t.campaign.title,text:t.campaign.description,url:"https://twb.nz/"+t.campaign.url},e.next=3,navigator.share(i);case 3:case"end":return e.stop()}}),e)})))()},changeFrameSize:function(){this.changeWidth()},changeWidth:function(){this.shareCampaignWidth=this.$refs.campaignName.clientWidth-120},getTimeToCampaignCreation:function(){var t=new Date,e=Date.parse(this.campaign.createdAt),i=(t-e)/864e5;if(i<1/24){var a=Math.floor(1440*i);return a<1?this.$t("time.a-minute-ago"):a+" "+this.$t("time.minutes-ago")}if(i<1){var n=Math.floor(24*i);return n+" "+this.$t("time.hours-ago")}if(i<30){var o=Math.floor(i);return o+" "+this.$t("time.days-ago")}if(i<360){var s=Math.floor(i/30);return s+" "+this.$t("time.months-ago")}var r=Math.floor(i/360);return r+" "+this.$t("time.years-ago")},formatSupportNumber:function(t){return"id"===this.$i18n.locale?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},reportCampaign:function(){this.$modal.show("report-campaign-".concat(this.campaign.url))}}),mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.SET_LAYOUT({show_navbar:!1,show_footer:!1}),navigator.canShare&&(t.can_native_share=!0),e.next=4,t.$store.dispatch("getCampaign",t.$route.params.url).then((function(e){return 0==e.length?t.$router.push("/404"):(t.changeWidth(),t.campaign_title=e.name,e.CampaignCreator.avatar&&(t.avatar_url=t.getAvatar(e.CampaignCreator.avatar)),e.uuid)})).then((function(e){t.getCount(e).then((function(e){e.count&&(t.campaign_supports=e.count)})),t.is_request_done=!0})).catch((function(){t.$toast.error(t.$t("error.reload"),{duration:2e3,position:"bottom"})}));case 4:case"end":return e.stop()}}),e)})))()},created:function(){window.addEventListener("resize",this.changeFrameSize),this.changeWidth=g()(this.changeWidth,100)},destroyed:function(){window.removeEventListener("resize",this.changeFrameSize),this.SET_LAYOUT({show_navbar:!0,show_footer:!0})}},S=C,$=(i("3ca8"),Object(v["a"])(S,a,n,!1,null,null,null));e["default"]=$.exports},1909:function(t,e,i){},"3ca8":function(t,e,i){"use strict";var a=i("1909"),n=i.n(a);n.a},"4ece":function(t,e,i){"use strict";var a=i("095f"),n=i.n(a);n.a}}]);
//# sourceMappingURL=campaign.90de2212.js.map